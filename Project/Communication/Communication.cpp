///////////////////////////////////////////////////////////////////////////////
//////////////////////////////// INCLUDES /////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

#include <memory.h>
#include "Communication.h"
//#include "ExceptionHandlerCharger.h"

///////////////////////////////////////////////////////////////////////////////
/////////////////////////// MACROS/DEFINITIONS ////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
//////////////////////////////// VARIABLES ////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
//////////////////////////////// FUNCTIONS ////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

// Manages the status of communication.

void Communication::Process (void)
{
    EState eState = getState ();
    switch (eState)
    {
        case EState::eReceive:
        {
            receive ();
            break;
        }
        case EState::eSend:
        {
            send ();
            break;
        }
        default:
        {
        	//THROW_EXC ("Unknown communication state");
            break;
        }
    }
}

// Clears message buffer.

void Communication::clearMsgBufs (uint8_t v_MsgData [], uint16_t & v_MsgDataLen)
{
    memset (v_MsgData, 0, v_MsgDataLen);
    v_MsgDataLen = 0;
}

/////////////////////////////// END OF FILE ///////////////////////////////////
